(function(){const c=document.createElement("link").relList;if(c&&c.supports&&c.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))l(n);new MutationObserver(n=>{for(const t of n)if(t.type==="childList")for(const d of t.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&l(d)}).observe(document,{childList:!0,subtree:!0});function o(n){const t={};return n.integrity&&(t.integrity=n.integrity),n.referrerPolicy&&(t.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?t.credentials="include":n.crossOrigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function l(n){if(n.ep)return;n.ep=!0;const t=o(n);fetch(n.href,t)}})();const L=document.querySelector(".checkbox-control__button"),h=document.querySelector(".basket-list__button");L.addEventListener("click",()=>{const c=document.querySelector(".basket__list").getElementsByTagName("li");for(let o=0;o<c.length;o++)c[o].classList.toggle("visually-hidden")});h.addEventListener("click",()=>{const c=document.querySelector(".basket__list--not-available").getElementsByTagName("li");for(let o=0;o<c.length;o++)c[o].classList.toggle("visually-hidden")});const v=document.querySelector(".pay-now__input"),b=document.querySelector(".table__item--price"),m=document.querySelector(".submit__button"),g=()=>{v.checked?m.textContent=`Оплатить ${b.textContent}`:m.textContent="Заказать"};v.addEventListener("input",g);const E=document.querySelector(".goods-point__button"),S=document.querySelector(".delivery__change"),q=document.querySelector(".card-payment__button"),k=document.querySelector(".payment__change"),s=document.querySelector(".modal-container--delivery"),B=s.querySelector(".modal__close--delivery"),i=document.querySelector(".modal-container--payment"),C=i.querySelector(".modal__close--payment"),x=e=>e.key==="Escape",a=e=>{x(e)&&(e.preventDefault(),s.classList.add("visually-hidden"),i.classList.add("visually-hidden"))};function f(){s.classList.remove("visually-hidden"),document.addEventListener("keydown",a)}function _(){i.classList.remove("visually-hidden"),document.addEventListener("keydown",a)}function A(){s.classList.add("visually-hidden"),document.removeEventListener("keydown",a)}function P(){i.classList.add("visually-hidden"),document.removeEventListener("keydown",a)}E.addEventListener("click",()=>{f()});S.addEventListener("click",()=>{f()});B.addEventListener("click",()=>{A()});q.addEventListener("click",()=>{_()});k.addEventListener("click",()=>{_()});C.addEventListener("click",()=>{P()});const w=document.querySelectorAll(".change-product__delete-button");w.forEach(e=>{e.addEventListener("click",()=>{e.closest("li").remove()})});const I=document.querySelectorAll(".change-product__add-button-wrapper"),D=document.querySelector(".navigation__count"),N=document.querySelector(".table__item--count");let r=0;I.forEach(e=>{const c=e.querySelector(".change-product__button--increment"),o=e.querySelector(".change-product__button--decrement"),l=e.querySelector(".change-product__count"),n=e.querySelector(".change-product__input");let t=parseInt(l.textContent);r+=t,n.value,o.addEventListener("click",()=>{t>0&&(t--,l.textContent=t),t<=0?o.disabled=!0:o.disabled=!1}),c.addEventListener("click",()=>{t++,l.textContent=t,o.disabled=!1}),D.textContent=r,N.textContent=`${r} товара`});console.log(r);let y=document.querySelector(".main__form"),u=document.querySelectorAll(".client-info__input");function p(e){return e.value.trim()===""?(e.classList.remove("valid"),e.classList.add("error"),e.nextElementSibling.classList.remove("visually-hidden"),!1):(e.classList.remove("error"),e.classList.add("valid"),e.nextElementSibling.classList.add("visually-hidden"),!0)}y.addEventListener("submit",function(e){e.preventDefault();let c=!0;u.forEach(function(o){p(o)||(c=!1)}),c?y.submit():u[0].scrollIntoView({behavior:"smooth"})});u.forEach(function(e){e.addEventListener("blur",function(){p(e)}),e.addEventListener("input",function(){e.classList.contains("valid")&&e.classList.remove("valid")})});
